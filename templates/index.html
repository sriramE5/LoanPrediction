<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Loan Approval Prediction</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #eef2f3;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background-color: #fff;
            padding: 30px 20px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            max-width: 450px;
            width: 100%;
            box-sizing: border-box;
            overflow-y: auto;
            max-height: 95vh;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
        label {
            font-weight: 600;
            margin-top: 15px;
            display: block;
            color: #555;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 14px;
        }
        button {
            width: 100%;
            background-color: #28a745;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #218838;
        }
        h3 {
            text-align: center;
            margin-top: 20px;
            color: #007bff;
        }
        .error {
            color: red;
            font-size: 14px;
            margin-bottom: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Loan Approval Prediction</h2>
        <form method="POST" action="/predict" onsubmit="return validateForm()">

            <label>Gender</label>
            <select name="Gender" id="Gender" required>
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>

            <label>Married</label>
            <select name="Married" id="Married" required>
                <option value="">Select Marital Status</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

            <label>Dependents</label>
            <select name="Dependents" id="Dependents" required>
                <option value="">Select Dependents</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3+">3+</option>
            </select>

            <label>Education</label>
            <select name="Education" id="Education" required>
                <option value="">Select Education</option>
                <option value="Graduate">Graduate</option>
                <option value="Not Graduate">Not Graduate</option>
            </select>

            <label>Self Employed</label>
            <select name="Self_Employed" id="Self_Employed" required>
                <option value="">Select Employment Status</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

            <label>Applicant Income</label>
            <input type="number" name="ApplicantIncome" id="ApplicantIncome" placeholder="Enter income" min="0" required/>

            <label>Coapplicant Income</label>
            <input type="number" name="CoapplicantIncome" id="CoapplicantIncome" placeholder="Enter coapplicant income" min="0" required/>

            <label>Loan Amount</label>
            <input type="number" name="LoanAmount" id="LoanAmount" placeholder="Enter loan amount" min="0" required/>

            <label>Loan Amount Term (in months)</label>
            <input type="number" name="Loan_Amount_Term" id="Loan_Amount_Term" placeholder="Enter loan term" min="0" required/>

            <label>Credit History</label>
            <select name="Credit_History" id="Credit_History" required>
                <option value="">Select Credit History</option>
                <option value="1.0">Good (1)</option>
                <option value="0.0">Bad (0)</option>
            </select>

            <label>Property Area</label>
            <select name="Property_Area" id="Property_Area" required>
                <option value="">Select Property Area</option>
                <option value="Urban">Urban</option>
                <option value="Semiurban">Semiurban</option>
                <option value="Rural">Rural</option>
            </select>

            <button type="submit">Predict</button>
        </form>

        {% if prediction %}
            <h3>Prediction: {{ prediction }}</h3>
        {% endif %}
    </div>

    <script>
        function validateForm() {
            let requiredFields = ['Gender', 'Married', 'Dependents', 'Education', 'Self_Employed', 
                                  'ApplicantIncome', 'CoapplicantIncome', 'LoanAmount', 'Loan_Amount_Term', 
                                  'Credit_History', 'Property_Area'];
            for (let field of requiredFields) {
                let value = document.getElementById(field).value;
                if (value === "" || value === null) {
                    alert("Please fill all fields properly!");
                    return false;
                }
            }
            return true;
        }
    </script>
</body>
</html>
